DROP TABLE IF EXISTS `report_merchants`;
CREATE TABLE `report_merchants` (
     `id` int unsigned NOT NULL AUTO_INCREMENT,
     `merchant_id` int unsigned NOT NULL DEFAULT '0' COMMENT '商家编号',
     `merchant_name` varchar(32) not null default '' comment '商户名称',
     `date`  date default '2000-01-01' comment '统计日期',
     `total` int unsigned NOT NULL DEFAULT '0' COMMENT '短信总数',
     `total_sent` int unsigned NOT NULL DEFAULT '0' COMMENT '总计发送',
     `total_success` int unsigned NOT NULL DEFAULT '0' COMMENT '成功发送',
     `merchant_children` int unsigned NOT NULL DEFAULT '0' COMMENT '下属商家',
     `merchant_new` int unsigned NOT NULL DEFAULT '0' COMMENT '新增商家',
     `merchant_live`int unsigned not null default 0 comment '活跃商家',
     `app_total` int not null default 0 comment '应用数量',
     `app_new` int not null default 0 comment '应用新增',
     `template_total` int not null default 0 comment '模板总计',
     `template_new` int not null default 0 comment '模板新增',
     `merchant_fee` decimal(13, 2) not null default 0 comment '商家费用',
     `downstream_fee` decimal(13, 2) not null default 0 comment '下游费用',
     `profit` decimal(13, 2) not null default 0 comment '利润',
     `created` bigint unsigned NOT NULL DEFAULT '0' COMMENT '统计时间',
     `remark` varchar(256) NOT NULL DEFAULT '' COMMENT '备注',
     INDEX(`date`),
     INDEX(`merchant_id`),
     INDEX(`merchant_name`),
     PRIMARY KEY (`id`, `created`)
) ENGINE=InnoDB AUTO_INCREMENT=100000 DEFAULT CHARSET=utf8mb3
PARTITION BY RANGE (`created`)
( PARTITION P202210 VALUES LESS THAN (1667232000000000) ENGINE = InnoDB,
  PARTITION P202211 VALUES LESS THAN (1669824000000000) ENGINE = InnoDB,
  PARTITION P202212 VALUES LESS THAN (1672502400000000) ENGINE = InnoDB,
  PARTITION P202301 VALUES LESS THAN (1675180800000000) ENGINE = InnoDB,
  PARTITION P202302 VALUES LESS THAN (1677600000000000) ENGINE = InnoDB,
  PARTITION P202303 VALUES LESS THAN (1680278400000000) ENGINE = InnoDB,
  PARTITION P202304 VALUES LESS THAN (1682870400000000) ENGINE = InnoDB,
  PARTITION P202305 VALUES LESS THAN (1685548800000000) ENGINE = InnoDB,
  PARTITION P202306 VALUES LESS THAN (1688140800000000) ENGINE = InnoDB,
  PARTITION P202307 VALUES LESS THAN (1690819200000000) ENGINE = InnoDB,
  PARTITION P202308 VALUES LESS THAN (1693497600000000) ENGINE = InnoDB,
  PARTITION P202309 VALUES LESS THAN (1696089600000000) ENGINE = InnoDB,
  PARTITION P202310 VALUES LESS THAN (1698768000000000) ENGINE = InnoDB,
  PARTITION P202311 VALUES LESS THAN (1701360000000000) ENGINE = InnoDB,
  PARTITION P202312 VALUES LESS THAN (1704038400000000) ENGINE = InnoDB,
  PARTITION P202401 VALUES LESS THAN (1706716800000000) ENGINE = InnoDB);